<script type="text/ng-template" id="creatorTemplate.html">
    <a>
        {{match.model.name }} ({{match.model.beatmapCount}})
    </a>
</script>
<div class="table">
    <div class="row">
        <div class="cell" >
            <div class="btn-group">
                <label ng-model="d.active" ng-change="draw()" btn-checkbox class="btn btn-default"
                       ng-repeat="d in constants.difficulties">
                    <img src="/img/mode/osu/{{constants.converter.difficulty[d.value]}}.png"
                         style="vertical-align: top;"/>
                    {{d.name}}
                </label>
            </div>
            <div class="btn-group">
                <label ng-model="m.active" ng-change="draw()" btn-checkbox class="btn btn-default"
                       ng-repeat="m in constants.modes">
                    <img src="/img/mode/{{constants.converter.mode[m.value]}}/mode.gif" style="vertical-align: top;"/>
                    {{m.name}}
                </label>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="cell tag-box">
            <button class="tag btn btn-default" ng-repeat="tag in tags" ng-click="removeTag(tag.tagId)"
                    ng-class="tag.classes">
                <img src="/img/{{tag.type}}.png"  style="vertical-align: top;width:20px;"/>
                {{ tag.label }}
            </button>
        </div>
    </div>
</div>
<div class="table">
    <div class="row">
        <div class="cell">
            <input type="text"
                   placeholder="Search a creator"
                   typeahead-template-url="creatorTemplate.html" typeahead-loading="loadingLocations"
                   typeahead="x.creator as x.creator for x in getCreators($viewValue)"
                   ng-model="selectedCreator"
                   typeahead-on-select="addCreator($item, $model, $label)"
                   class="form-control"/>
            <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>
        </div>
    </div>
</div>
<div class="table">
    <div ng-repeat="pack in packs" class="row beatmapset">
        <!--<img src="http://b.ppy.sh/thumb/{{ pack.beatmapset_id }}.jpg" />-->
        <div class="cell">{{ pack.name }}</div>
        <div class="cell">
            <img src="/media/{{pack.beatmapset_id}}/{{pack.beatmapset_id}}.jpg"/>
        </div>
        <div class="cell" style="width:15%">
            <div ng-repeat="beatmap in pack.beatmaps" style="float:left;">
                <img src="/img/mode/{{constants.converter.mode[beatmap.mode]}}/{{constants.converter.difficulty[beatmap.difficulty]}}.png"
                     alt="created by {{beatmap.creator}}" title="created by {{beatmap.creator}}"/>
            </div>
        </div>
        <div class="cell">
            <a target="_self" href="{{pack.downloadLink}}"
               download="{{pack.downloadName}}">
                <img src="/img/arrow457.png" style="width:50px;">
            </a>
        </div>
        <div class="cell">
            <a ng-click="playBeatmap(pack.beatmapset_id)" style="cursor:pointer;">
                <img src="/img/play43.png" style="width:50px;">
            </a>
        </div>
    </div>
    <audio id="player" src="http://b.ppy.sh/preview/149685.mp3" type="audio/mp3"></audio>
</div>
<div class="cell">
    <img src="/img/listing1.png" style="width:32px;"/>
    <select ng-change="draw()" ng-model="pageSize"
            ng-options="pageSize as pageSize for pageSize in constants.pageSizes"></select>
</div>