<script type="text/ng-template" id="tagTemplate.html">
    <a>
        <img src="/img/{{match.model.type}}.png" style="vertical-align: top;width:15px;"/> {{ match.model.value }}
        ({{match.model.count }})
    </a>
</script>
<div class="table">
    <div class="row">
        <div class="btn-group">
            <label ng-model="d.active" ng-change="draw()" btn-checkbox class="btn btn-default"
                   ng-repeat="d in constants.difficulties">
                <img src="/img/mode/osu/{{constants.converter.difficulty[d.value]}}.png"
                     style="vertical-align: top;width:20px;"/>
                {{d.name}}
            </label>
        </div>
        <div class="btn-group" style="float:right;">
            <label ng-model="m.active" ng-change="draw()" btn-checkbox class="btn btn-default"
                   ng-repeat="m in constants.modes">
                <img src="/img/mode/{{constants.converter.mode[m.value]}}/mode.png"
                     style="vertical-align: top;width:20px;"/>
                {{m.name}}
            </label>
        </div>
    </div>
</div>
<div class="row">
    <div class="cell tag-box">
        <button class="tag btn btn-default" ng-repeat="tag in tags" ng-click="removeTag(tag.tagId)">
            <img src="/img/{{tag.type}}.png" style="vertical-align: top;width:20px;"/>
            {{ tag.value }}
        </button>
    </div>
</div>
</div>
<div class="table">
    <div class="row">
        <div class="cell">
            <input type="text"
                   placeholder="Search a creator / artists / song ..."
                   typeahead-template-url="tagTemplate.html"
                   typeahead-loading="loadingLocations"
                   typeahead="x.value for x in getTags($viewValue)"
                   ng-model="selectedTag"
                   typeahead-on-select="addTag($item)"
                   class="form-control"/>
            <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>
        </div>
    </div>
</div>
<div class="container-fluid">
    <div ng-repeat="pack in packs" class="beatmapset">
        <!--<img src="http://b.ppy.sh/thumb/{{ pack.beatmapset_id }}.jpg" />-->
        <div class="col-sm-6 col-md-4">
            <div class="thumbnail">
                <p style="text-align:right;">
                    <img ng-repeat="beatmap in pack.beatmaps"
                         src="/img/mode/{{constants.converter.mode[beatmap.mode]}}/{{constants.converter.difficulty[beatmap.difficulty]}}.png"
                         alt="created by {{beatmap.creator}}" title="created by {{beatmap.creator}}"
                         style="width:20px;margin:2px;"/>
                </p>
                <img src="/media/{{pack.beatmapset_id}}/{{pack.beatmapset_id}}l.jpg" alt="..."
                     style="border:1px solid grey;">

                <div class="caption">
                    <h3>{{pack.name}}</h3>



                    <p style="text-align:center;">
                        <a type="button" class="btn btn-default">
                            <span class="glyphicon glyphicon-link" aria-hidden="true"></span>
                        </a>
                        <a type="button" class="btn btn-default">
                            <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
                        </a>
                        <a type="button" class="btn btn-default">
                            <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
                        </a>
                    </p>
                </div>


            </div>
        </div>
        <!--<div class="thumbnail">-->
        <!--<img src="/media/{{pack.beatmapset_id}}/{{pack.beatmapset_id}}l.jpg" alt="...">-->

        <!--<div class="caption">-->
        <!--<h3> {{ pack.name }}</h3>-->

        <!--<div ng-repeat="beatmap in pack.beatmaps" style="float:left;">-->
        <!--<img src="/img/mode/{{constants.converter.mode[beatmap.mode]}}/{{constants.converter.difficulty[beatmap.difficulty]}}.png"-->
        <!--alt="created by {{beatmap.creator}}" title="created by {{beatmap.creator}}"-->
        <!--style="width:20px;margin:2px;"/>-->
        <!--</div>-->
        <!--<div>-->
        <!--<a type="button" class="btn btn-default">-->
        <!--<span class="glyphicon glyphicon-download" aria-hidden="true"></span> Download-->
        <!--</a>-->
        <!--<a type="button" class="btn btn-default">-->
        <!--<span class="glyphicon glyphicon-play" aria-hidden="true"></span> Listen-->
        <!--</a>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
    </div>
    <!--<div class="cell">-->
    <!--<div>-->
    <!--{{ pack.name }}-->
    <!--</div>-->
    <!--<div>-->
    <!--<div ng-repeat="beatmap in pack.beatmaps" style="float:left;">-->
    <!--<img src="/img/mode/{{constants.converter.mode[beatmap.mode]}}/{{constants.converter.difficulty[beatmap.difficulty]}}.png"-->
    <!--alt="created by {{beatmap.creator}}" title="created by {{beatmap.creator}}"-->
    <!--style="width:20px;margin:2px;"/>-->
    <!--</div>-->
    <!--</div>-->
    <!--</div>-->
    <!--<div class="cell">-->
    <!--<img src="/media/{{pack.beatmapset_id}}/{{pack.beatmapset_id}}.jpg"/>-->
    <!--</div>-->
    <!--<div class="cell">-->
    <!--<a target="_self" href="{{pack.downloadLink}}"-->
    <!--download="{{pack.downloadName}}">-->
    <!--<img src="/img/arrow457.png" style="width:50px;">-->
    <!--</a>-->
    <!--</div>-->
    <!--<div class="cell">-->
    <!--<a ng-click="playBeatmap(pack.beatmapset_id)" style="cursor:pointer;">-->
    <!--<img src="/img/play43.png" style="width:50px;">-->
    <!--</a>-->
    <!--</div>-->
</div>
<audio id="player" src="http://b.ppy.sh/preview/149685.mp3" type="audio/mp3"></audio>
</div>
<div class="cell">
    <img src="/img/listing1.png" style="width:32px;"/>
    <select ng-change="draw()" ng-model="pageSize"
            ng-options="pageSize as pageSize for pageSize in constants.pageSizes"></select>
</div>