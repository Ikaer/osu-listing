<div class="ui top sidebar filters">
    <div>
        <div class="ui form" style="background-color:white;padding:10px">
            <div class="fields">
                <div class="field four wide" style="margin-right:30px;position:relative">
                    <div style="position: absolute;right:0px;top: 10px;" ng-show="isLogged">
                        <button class="ui tiny icon button" ng-click="saveDurationAndDiffs()" id="save-durationAndDiffs">
                            <i class="save icon"></i>
                        </button>
                    </div>
                    <h4 class="ui dividing header">Parameters</h4>

                    <div class="inline fields">
                        <div class="four wide field">
                            <label>Duration (seconds)</label>
                        </div>
                        <div class="six wide field">
                            <input ng-model="minDuration" ng-change="draw()" type="number" placeholder="Minimum"/>
                        </div>
                        <div class="six wide field">
                            <input ng-model="maxDuration" ng-change="draw()" type="number" placeholder="Maximum"/>
                        </div>
                    </div>
                    <div class="inline fields">
                        <div class="four wide field">
                            <label>Overall difficulty</label>
                        </div>
                        <div class="six wide field">
                            <input ng-model="minOverallDifficulty" ng-change="draw()" type="number" placeholder="Minimum" min="1" max="10"/>
                        </div>
                        <div class="six wide field">
                            <input ng-model="maxOverallDifficulty" ng-change="draw()" type="number" placeholder="Maximum" min="1" max="10"/>
                        </div>
                    </div>
                    <div class="inline fields">
                        <div class="four wide field">
                            <label>HP drain rate</label>
                        </div>
                        <div class="six wide field">
                            <input ng-model="minHPDrainRate" ng-change="draw()" type="number" placeholder="Minimum" min="1" max="10"/>
                        </div>
                        <div class="six wide field">
                            <input ng-model="maxHPDrainRate" ng-change="draw()" type="number" placeholder="Maximum" min="1" max="10"/>
                        </div>
                    </div>
                    <div class="inline fields">
                        <div class="four wide field">
                            <label>Circle size / key count</label>
                        </div>
                        <div class="six wide field">
                            <input ng-model="minCircleSize" ng-change="draw()" type="number" placeholder="Minimum" min="1" max="10"/>
                        </div>
                        <div class="six wide field">
                            <input ng-model="maxCircleSize" ng-change="draw()" type="number" placeholder="Maximum" min="1" max="10"/>
                        </div>
                    </div>
                    <div class="inline fields">
                        <div class="four wide field">
                            <label>Approach rate</label>
                        </div>
                        <div class="six wide field">
                            <input ng-model="minApproachRate" ng-change="draw()" type="number" placeholder="Minimum" min="1" max="10"/>
                        </div>
                        <div class="six wide field">
                            <input ng-model="maxApproachRate" ng-change="draw()" type="number" placeholder="Maximum" min="1" max="10"/>
                        </div>
                    </div>
                </div>
                <div class="field six wide" style="margin-right:30px;position:relative">
                    <div  style="position: absolute;right:0px;top: 10px;"  ng-show="isLogged">
                        <button class="ui tiny icon button" ng-click="savePlayedBeatmaps()" id="save-played-beatmaps">
                            <i class="save icon"></i>
                        </button>
                    </div>
                    <h4 class="ui dividing header">
                        <span>Display cards</span>
                    </h4>

                    <div class="field inline" ng-repeat="db in playedBeatmaps">
                        <input type="radio" name="played-beatmaps-radio" id="played-beatmaps-{{db.value}}"
                               ng-model="$parent.playedBeatmapValue" value="{{db.value}}" ng-change="draw()"/>
                        <label for="played-beatmaps-{{db.value}}">{{db.name}}</label>
                    </div>
                </div>
                <div class="field four wide" style="margin-right:30px;position:relative">
                    <div  style="position: absolute;right:0px;top: 10px;"  ng-show="isLogged" >
                    <button class="ui tiny icon button" ng-click="saveExtensions()" id="save-extensions">
                        <i class="save icon"></i>
                    </button>
                </div>
                    <h4 class="ui dividing header">Files to include in osz (experimental)</h4>
                    <div class="field inline" ng-repeat="ext in extensions">
                        <input type="checkbox" id="extension-{{ext.value}}" ng-model="ext.active" ng-change="draw()"/>
                        <label for="extension-{{ext.value}}">{{ext.name}}</label>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<div class="ui right sidebar side-search" style="background-color:white;">
    <div class="ui container" style="padding:5px;">
        <div class="ui fluid category search">
            <div class="ui icon input fluid">
                <input class="prompt" type="text" placeholder="Search creators / titles / artits ...">
                <i class="search icon"></i>
            </div>
        </div>
        <div class="results"></div>
    </div>
</div>
<!--"0" : "Japanese",-->
<!--"1" : "Instrumental",-->
<!--"2" : "English",-->
<!--"3" : null,-->
<!--"4" : "Other",-->
<!--"5" : "Spanish",-->
<!--"6" : "Korean",-->
<!--"7" : "Chinese",-->
<!--"8" : "German",-->
<!--"9" : "French",-->
<!--"10" : "Italian",-->
<!--"11" : "Swedish",-->
<!--"12" : "Any"-->

<div class="pusher">
    <div class="ui fixed inverted menu ao-menu fluid centered">
        <div class="ui container ">
            <a href="/" class="item">
                <div class="ui dimmer ao-loader">
                    <div class="ui tiny loader"></div>
                </div>
                <img class="logo ao-logo" src="img/1437607408_osu.png"/>
            </a>


            <a class="ui dropdown item aligned ao-filters">
                <span class="header-menu-label-big">Mode</span>
                <span class="header-menu-label-small">M</span>

                <div class="menu">
                    <div class="item" ng-repeat="m in modes" ng-click="changeMode(m.value)" style="width:180px;">
                        <img class="ui image" ng-class="m.active === true ? '':'filter-faded-icon'"
                             src="/img/mode/{{converter.mode[m.value]}}/mode.png"
                             style="width:20px;"/>
                        {{m.name}}
                    </div>
                </div>
            </a>
            <a class="ui dropdown item aligned ao-filters">
                <span class="header-menu-label-big">Difficulty</span>
                <span class="header-menu-label-small">D</span>

                <div class="menu">
                    <div class="item" ng-repeat="d in difficulties" ng-click="changeDifficulty(d.value)"
                         style="width:180px;">
                        <img class="ui image" ng-class="d.active === true ? '':'filter-faded-icon'"
                             src="/img/mode/osu/{{converter.difficulty[d.value]}}.png"
                             style="width:20px;"/>
                        {{d.name}}
                    </div>
                </div>
            </a>
            <a class="ui dropdown item aligned ao-filters">
                <span class="header-menu-label-big">Status</span>
                <span class="header-menu-label-small">S</span>

                <div class="menu">
                    <div class="item" ng-repeat="d in approved" ng-click="changeApproved(d.value)" style="width:180px;">
                        <img class="ui image" ng-class="d.active === true ? '':'filter-faded-icon'"
                             src="/img/approved/{{converter.approved[d.value]}}.png"
                             style="width:20px;"/>
                        {{d.name}}
                    </div>
                </div>
            </a>
            <a class="ui item icon aligned ao-filters sidenav-open">
                <i class="filter icon"></i>
            </a>

            <!--*************************  SEARCH     ******************************-->
            <div class="ui category search item right aligned search-big" style="width:300px;">
                <div class="ui icon input">
                    <input class="prompt inverted" type="text" placeholder="Search creators / titles / artits ...">
                    <i class="search icon"></i>
                </div>
                <div class="results"></div>
            </div>
            <a class="ui item icon sidenav-search-open search-little">
                <i class="search icon"></i>
            </a>
            <!--*************************  USER ICONS ******************************-->
            <a class="item ao-user" ng-class="isLogged ? '':'icon'">
                <i class="user icon"></i>
                <span ng-show="isLogged">{{user.name}}</span>
            </a>

            <div class="ui flowing popup top left transition hidden ao-user-options">
                <div class="ui one column middle aligned very relaxed stackable grid">
                    <div class="column">
                        <div class="ui blue button" ng-click="showProfileOptions()">Profile</div>
                        <div class="ui blue submit button" ng-click="logout()">Logout</div>
                    </div>
                </div>
            </div>
            <div class="ui flowing popup top left transition hidden ao-user-login" style="width:500px;">
                <div class="ui one column middle aligned very relaxed stackable grid">
                    <div class="ui column vertical buttons">
                        <div class="ui form signin-form">
                            <div class="field">
                                <label>Username</label>

                                <div class="ui left icon input">
                                    <input type="text" placeholder="Pseudo or mail" class="login-pseudo"
                                           ng-model="username">
                                    <i class="user icon"></i>
                                </div>
                            </div>
                            <div class="field">
                                <label>Password</label>

                                <div class="ui left icon input">
                                    <input type="password" placeholder="Password" autocomplete="off"
                                           ng-model="password">
                                    <i class="lock icon"></i>
                                </div>
                                <p style="text-align:right;"><a href ng-click="forgotYourPassword()">Forgot you password
                                    ?</a></p>
                            </div>
                            <div class="ui error message"></div>
                            <div class="ui blue submit button">Login</div>
                        </div>
                    </div>
                    <div class="ui horizontal divider">
                        Or
                    </div>
                    <div class="ui aligned column vertical buttons">
                        <div class="ui green button log-signup" ng-click="openSignup()">
                            <i class="signup icon"></i>
                            Sign Up
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div style="position:fixed;top:52px;bottom:40px;right:0;left:0;overflow-y:auto;overflow-x:hidden;">
        <div ui-view></div>
    </div>
    <div class="ui menu inverted ao-bottom-menu" style="position:fixed;bottom:0;left:0;right:0;">
        <div class="ui container">
            <a class="item" ng-show="isNotFirstPage" ng-click="goPreviousPage()">previous page</a>

            <div class="ui dropdown item ao-sorting right">
                <input type="hidden" name="gender">

                <div class="default text">{{sorting.label}}</div>
                <div class="menu">
                    <div class="item"
                         ng-repeat="s in sortings" data-value="{{s.value}}" ng-click="sort(s)">
                        {{s.label}}
                    </div>
                </div>
            </div>
            <a class="item"> <i class="sort content icon" ng-click="changeSortingDirection()"
                                ng-class="sorting.direction === 1 ? 'ascending' : 'descending'"></i></a>

            <div class="right menu">
                <a class="item" ng-show="hasNextPage" ng-click="goNextPage()">next page</a>
            </div>
        </div>
    </div>

    <div class="ui form modal signup">
        <!--<i class="close icon"></i>-->
        <div class="ui inverted dimmer">
            <div class="ui text loader">Registering you now :)</div>
        </div>
        <div class="header">
            Create account
        </div>
        <div class="ui content signup-form">

            <div class="field pseudo-field">
                <label>Pseudo</label>
                <input type="text" class="pseudo" id="pseudo" placeholder="JohnDoe457">
            </div>
            <div class="field mail-field">
                <label>E-mail</label>
                <input type="text" class="mail" id="mail" placeholder="john.doe@wonderland.com">
            </div>
            <div class="field">
                <label>Osu! user ID</label>
                <input type="text" class="user_id" id="user_id"
                       placeholder="Your user id can be found in url of your Osu! profile page.">
            </div>
            <div class="field password1-field">
                <label>Password</label>
                <input type="password" class="password1" id="password1" placeholder="Enter your password">
            </div>
            <div class="field password2-field">
                <label>Repeat password</label>
                <input type="password" class="password2" id="password2" placeholder="Confirm your password">
            </div>
        </div>
        <div class="actions">
            <div class="ui button blue submit">Create account</div>
            <div class="ui button signup_cancel">Cancel</div>
        </div>
    </div>
    <div class="ui modal signup-result-ok">
        <div class="header">
            Account has been created
        </div>
        <div class="content">
            Your account has been created. After visiting the url send to you by email, you will be able to login !
        </div>
        <div class="actions">
            <div class="ui button signup-result-ok_cancel">Close</div>
        </div>
    </div>
    <div class="ui modal signup-result-ko">
        <div class="header">
            Cannot create account
        </div>
        <div class="content">
            Your account cannot be created because <span class="signup-result-ko-reason"></span>
        </div>
        <div class="actions">
            <div class="ui button signup-result-ko_cancel">close</div>
        </div>
    </div>
    <div class="ui modal mail-sent">
        <div class="header">
            Mail sent
        </div>
        <div class="content">
            A e-mail has been sent.
        </div>
        <div class="actions">
            <div class="ui button mail-sent_cancel">close</div>
        </div>
    </div>
    <div class="ui modal mail-sent-fail">
        <div class="header">
            Cannot sent verification e-mail
        </div>
        <div class="content">
            We were unable to send you a verification e-mail: <span class="mail-sent-fail-reason"></span>
        </div>
        <div class="actions">
            <div class="ui button close">close</div>
        </div>
    </div>
    <div class="ui modal forgot-password-modal">
        <div class="header">
            Password reset
        </div>
        <div class="content">
            <div class="ui form forgot-password">
                <div class="field">
                    <label>E-mail</label>
                    <input type="text" id="forgot-password-email"
                           placeholder="Enter your e-mail">
                </div>
                <p>
                    A email will be sent to you with a link to enter a new password.
                </p>
            </div>
        </div>
        <div class="actions">
            <div class="ui blue submit button" ng-click="sendResetMail()">Send</div>
            <div class="ui button close">close</div>
        </div>
    </div>
    <div class="ui modal user-options">
        <div class="ui inverted dimmer">
            <div class="ui text loader">Saving your profile.</div>
        </div>
        <div class="header">
            Profile
        </div>
        <div class="ui form content user-options-form">
            <div class="inline field">
                <label for="options-osu_id">Osu! ID</label>
                <input type="text" id="options-osu_id" placeholder="" ng-model="user.user_id">
            </div>
            <div class="inline fields">
                <label>Starting difficulties</label>

                <div class="field" ng-repeat="difficulty in difficulties">
                    <div class="ui checkbox">
                        <input id="profile-difficulty-{{difficulty.value}}" type="checkbox" ng-model="difficulty.init">
                        <label for="profile-difficulty-{{difficulty.value}}">{{difficulty.name}}</label>
                    </div>
                </div>
            </div>
            <div class="inline fields">
                <label>Starting modes</label>

                <div class="field" ng-repeat="mode in modes">
                    <div class="ui checkbox">
                        <input id="profile-mode-{{mode.value}}" type="checkbox" ng-model="mode.init">
                        <label for="profile-mode-{{mode.value}}">{{mode.name}}</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="actions">
            <div class="ui button blue submit">save</div>
            <div class="ui button close">close</div>
        </div>
    </div>

</div>

<script>
    $('.signup.modal').modal({
        allowMultiple: false
    })
    $('.signup-result-ok').modal()
    $('.signup-result-ko').modal()
    $('.signup.modal .signup_cancel').click(function () {
        $('.signup.modal').modal('hide')
    })
    $('.signup-result-ok .signup-result-ok_cancel').click(function () {
        $('.signup-result-ok').modal('hide')
    })
    $('.signup-result-ko .signup-result-ko_cancel').click(function () {
        $('.signup-result-ko').modal('hide')
    })


    // MAIL SEND MODAL - VARIOUS SOURCE
    $('.mail-sent').modal();
    $('.mail-sent .mail-sent_cancel').click(function () {
        $('.mail-sent').modal('hide')
    })
    $('.mail-sent-fail').modal();
    $('.mail-sent-fail .close').click(function () {
        $('.mail-sent-fail').modal('hide')
    })


    // FORGOT PASSWORD MODAL
    $('.forgot-password-modal').modal();
    $('.forgot-password-modal .close').click(function () {
        $('.mail-sent-fail').modal('hide')
    })

    $('.user-options').modal()
    $('.user-options .close').click(function () {
        $('.user-options').modal('hide')
    })
    $('.user-options .menu .item').tab();

    $('.dropdown.ao-sorting').dropdown();
    $('.dropdown.ao-filters').dropdown({
        action: function () {
            /*hack do nothing*/
        }
    });
    $('.dropdown.ao-filter-language').dropdown();
    $('.ao-extra-filters').popup({
        on: 'click',
        popup: '.ao-extra-filters-popup',
        position: 'bottom right'
    });
    $('.ui.checkbox').checkbox();
</script>
<audio id="player" src="" type="audio/mp3"></audio>





